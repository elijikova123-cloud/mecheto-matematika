<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–µ—á–µ—Ç–æ —Å—ä–±–∏—Ä–∞ –º–µ–¥</title>
    <style>
        body { 
            margin: 0; padding: 20px;
            background: #2e8b57; /* –ì–æ—Ä—Å–∫–æ –∑–µ–ª–µ–Ω–æ */
            background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1200');
            background-size: cover; background-attachment: fixed;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            display: flex; justify-content: center; align-items: center; min-height: 100vh;
        }

        #game-container { 
            width: 100%; max-width: 800px;
            background: rgba(255, 255, 255, 0.95); 
            padding: 30px; border-radius: 40px; 
            box-shadow: 0 15px 50px rgba(0,0,0,0.5);
            border: 10px solid #5d4037; text-align: center;
        }

        .stats-bar {
            background: #fff9c4; padding: 15px; border-radius: 20px;
            display: flex; justify-content: space-around;
            font-weight: bold; font-size: 1.2rem; margin-bottom: 20px;
            border: 3px solid #fbc02d; color: #5d4037;
        }

        .bear-area { font-size: 80px; margin: 10px; display: block; }

        #question-box {
            background: #fdf5e6; border: 5px solid #ffa000;
            border-radius: 25px; padding: 20px;
            margin: 20px 0; display: block;
        }
        
        #task-type { font-size: 1.5rem; color: #ef6c00; font-weight: bold; margin-bottom: 10px; }
        #question { font-size: 4rem; color: #333; margin: 0; font-weight: bold; }

        .pots-grid { 
            display: grid; grid-template-columns: repeat(5, 1fr); 
            gap: 15px; margin-top: 20px; width: 100%;
        }

        .pot { 
            background: #ffc107; padding: 20px 5px; border-radius: 15px 15px 50% 50%;
            border: 4px solid #8d6e63; font-size: 1.8rem; font-weight: bold;
            color: #5d4037; cursor: pointer; transition: 0.2s;
            box-shadow: 0 5px 0 #795548;
        }

        .pot:hover { transform: translateY(-5px); background: #ffca28; }
        .pot:active { transform: translateY(2px); box-shadow: none; }

        @media (max-width: 600px) {
            .pots-grid { grid-template-columns: repeat(2, 1fr); }
            #question { font-size: 2.5rem; }
        }
    </style>
</head>
<body>

<div id="game-container">
    <h1>üå≤ –ú–µ—á–µ—Ç–æ —Å—ä–±–∏—Ä–∞ –º–µ–¥ –≤ –≥–æ—Ä–∞—Ç–∞ üçØ</h1>
    
    <div class="stats-bar">
        <div>üå≥ –ß–∏—Å–ª–æ: <span id="level">2</span></div>
        <div>‚ù§Ô∏è –ì—Ä–µ—à–∫–∏: <span id="errors" style="color:red">0</span>/3</div>
        <div>‚≠ê –ú–µ–¥: <span id="progress">0</span>/10</div>
    </div>

    <div class="bear-area" id="bear">üêª</div>
    
    <div id="question-box">
        <div id="task-type">–ó–∞–ø–æ—á–≤–∞–º–µ!</div>
        <div id="question">?</div>
    </div>

    <div class="pots-grid" id="pots">
        </div>
</div>

<script>
    let currentNumber = 2;
    let errors = 0;
    let solvedInLevel = 0;
    let targetAnswer = 0;

    // –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ –∑–∞–¥–∞—á–∞
    function generateTask() {
        let randomNum = Math.floor(Math.random() * 10) + 1;
        let taskTypeEl = document.getElementById('task-type');
        let questionEl = document.getElementById('question');

        if (solvedInLevel < 5) {
            taskTypeEl.innerText = "–£–º–Ω–æ–∂–µ–Ω–∏–µ üêù";
            targetAnswer = randomNum * currentNumber;
            questionEl.innerText = randomNum + " √ó " + currentNumber;
            renderPots('mul');
        } else {
            taskTypeEl.innerText = "–î–µ–ª–µ–Ω–∏–µ üçØ";
            let dividend = randomNum * currentNumber;
            targetAnswer = randomNum;
            questionEl.innerText = dividend + " : " + currentNumber;
            renderPots('div');
        }
    }

    // –†–∏—Å—É–≤–∞–Ω–µ –Ω–∞ –≥—ä—Ä–Ω–µ—Ç–∞—Ç–∞
    function renderPots(mode) {
        const grid = document.getElementById('pots');
        grid.innerHTML = '';
        for (let i = 1; i <= 10; i++) {
            let val = (mode === 'mul') ? (i * currentNumber) : i;
            let pot = document.createElement('div');
            pot.className = 'pot';
            pot.innerText = val;
            pot.onclick = function() { check(val); };
            grid.appendChild(pot);
        }
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—Ç–≥–æ–≤–æ—Ä–∞
    function check(val) {
        if (val === targetAnswer) {
            solvedInLevel++;
            document.getElementById('bear').style.transform = "scale(1.3)";
            setTimeout(() => document.getElementById('bear').style.transform = "scale(1)", 200);
            
            if (solvedInLevel >= 10) {
                alert("–ë—Ä–∞–≤–æ! –ü—Ä–µ–º–∏–Ω–∞–≤–∞–º–µ –Ω–∞ —Å–ª–µ–¥–≤–∞—â–∞—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞!");
                currentNumber++;
                solvedInLevel = 0;
                errors = 0;
                if (currentNumber > 10) {
                    alert("–¢–∏ –ø–æ–±–µ–¥–∏ –∏–≥—Ä–∞—Ç–∞!");
                    currentNumber = 2;
                }
            }
        } else {
            errors++;
            if (errors >= 3) {
                alert("–û–ø–∏—Ç–∞–π –ø–∞–∫ —Ç–∞–∑–∏ —Ç–∞–±–ª–∏—Ü–∞!");
                solvedInLevel = 0;
                errors = 0;
            }
        }
        updateUI();
        generateTask();
    }

    function updateUI() {
        document.getElementById('level').innerText = currentNumber;
        document.getElementById('errors').innerText = errors;
        document.getElementById('progress').innerText = solvedInLevel;
    }

    // –°–¢–ê–†–¢
    updateUI();
    generateTask();
</script>

</body>
</html>
